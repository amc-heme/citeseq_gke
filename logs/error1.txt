Building DAG of jobs...
Creating conda environment env_files/star.yml...
Downloading and installing remote packages.
Environment for /workdir/rules/../env_files/star.yml created (location: .snakemake/conda/eb0fcfb13787478e0b1341aa810da8cc_)
Using shell: /bin/bash
Provided cores: 4
Rules claiming more threads will be scaled down.
Provided resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954
Select jobs to execute...

[Thu May 11 18:46:13 2023]
rule starsolo_gex_counts:
    input: bkt-test-926/pbmc_test/data/pbmc_GEX_L001_R1_001.fastq.gz, bkt-test-926/pbmc_test/data/pbmc_GEX_L002_R1_001.fastq.gz, bkt-test-926/pbmc_test/data/pbmc_GEX_L001_R2_001.fastq.gz, bkt-test-926/pbmc_test/data/pbmc_GEX_L002_R2_001.fastq.gz, bkt-test-926/ref/3M-february-2018.txt, bkt-test-926/ref/737K-august-2016.txt, bkt-test-926/ref/Features_20221123_star
    output: bkt-test-926/pbmc_test/results/gex/pbmc/pbmc_Solo.out/Barcodes.stats
    log: bkt-test-926/logs/pbmc_star_gex_counts.out
    jobid: 0
    reason: Missing output files: bkt-test-926/pbmc_test/results/gex/pbmc/pbmc_Solo.out/Barcodes.stats
    wildcards: sample=pbmc
    threads: 3
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=/tmp

Downloading from remote: bkt-test-926/ref/3M-february-2018.txt
Finished download.
Downloading from remote: bkt-test-926/pbmc_test/data/pbmc_GEX_L001_R1_001.fastq.gz
Finished download.
Downloading from remote: bkt-test-926/ref/737K-august-2016.txt
Finished download.
Downloading from remote: bkt-test-926/pbmc_test/data/pbmc_GEX_L001_R2_001.fastq.gz
Finished download.
Downloading from remote: bkt-test-926/ref/Features_20221123_star
Finished download.
Downloading from remote: bkt-test-926/pbmc_test/data/pbmc_GEX_L002_R2_001.fastq.gz
Finished download.
Downloading from remote: bkt-test-926/pbmc_test/data/pbmc_GEX_L002_R1_001.fastq.gz
Finished download.
Activating conda environment: .snakemake/conda/eb0fcfb13787478e0b1341aa810da8cc_

ParametersSolo.cpp:289:initialize: exiting because of *INPUT FILE* error: could not open input file /ref/3M-february-2018.txt
Solution: check that the file exists and you have read permission for this file
          SOLUTION: check the path and permissions of the CB whitelist file: /ref/3M-february-2018.txt

May 11 18:46:21 ...... FATAL ERROR, exiting
[Thu May 11 18:46:21 2023]
Error in rule starsolo_gex_counts:
    jobid: 0
    input: bkt-test-926/pbmc_test/data/pbmc_GEX_L001_R1_001.fastq.gz, bkt-test-926/pbmc_test/data/pbmc_GEX_L002_R1_001.fastq.gz, bkt-test-926/pbmc_test/data/pbmc_GEX_L001_R2_001.fastq.gz, bkt-test-926/pbmc_test/data/pbmc_GEX_L002_R2_001.fastq.gz, bkt-test-926/ref/3M-february-2018.txt, bkt-test-926/ref/737K-august-2016.txt, bkt-test-926/ref/Features_20221123_star
    output: bkt-test-926/pbmc_test/results/gex/pbmc/pbmc_Solo.out/Barcodes.stats
    log: bkt-test-926/logs/pbmc_star_gex_counts.out (check log file(s) for error details)
    conda-env: /workdir/.snakemake/conda/eb0fcfb13787478e0b1341aa810da8cc_
    shell:
        
      STAR --soloType CB_UMI_Simple       --soloCBmatchWLtype 1MM_multi_Nbase_pseudocounts       --soloUMIfiltering MultiGeneUMI       --soloUMIdedup 1MM_Directional       --readFilesCommand gunzip -c       --runThreadN 12       --soloBarcodeReadLength 0       --outFilterScoreMin 30       --soloCBwhitelist /ref/3M-february-2018.txt --soloUMIlen 12       --genomeDir /ref/cr2020A_star       --clipAdapterType CellRanger4       --soloFeatures Gene SJ Velocyto       --soloCellFilter EmptyDrops_CR 10000 0.99 10 45000 90000 500 0.01 20000 0.01 10000         --limitOutSJcollapsed 2000000       --outFileNamePrefix /pbmc_test/results/gex/pbmc/pbmc_       --outSAMtype None       --readFilesIn $(echo bkt-test-926/pbmc_test/data/pbmc_GEX_L001_R2_001.fastq.gz bkt-test-926/pbmc_test/data/pbmc_GEX_L002_R2_001.fastq.gz | sed 's/ /,/g') $(echo bkt-test-926/pbmc_test/data/pbmc_GEX_L001_R1_001.fastq.gz bkt-test-926/pbmc_test/data/pbmc_GEX_L002_R1_001.fastq.gz | sed 's/ /,/g')
      
      find /pbmc_test/results/gex/pbmc/pbmc_* -name "*tsv" -o -name '*mtx' -o -name '*tab'       | grep -v 'SJ/raw/features.tsv' | while read i; do gzip $i; done
      
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
